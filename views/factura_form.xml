<odoo>
    <data>
        <!-- Vista de formulario para crear una factura -->
        <record id="view_facturas_factura_form" model="ir.ui.view">
            <field name="name">facturas.factura.form</field>
            <field name="model">facturas.factura</field>
            <field name="arch" type="xml">
                <form string="Factura">
                    <group>
                        <group>
                            <field name="name" required="1"/>
                            <field name="fecha_emision" required="1"/>
                            <field name="fecha_limite_pago" required="1"/>
                        </group>
                        <group>
                            <field name="estado_factura" required="1"/>
                            <field name="cliente_id" required="1"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Líneas de Factura">
                            <field name="linea_ids" mode="tree">
                                <tree string="Líneas de Factura" editable="bottom">
                                    <field name="producto_id"/>
                                    <field name="cantidad" required="1"/>
                                    <field name="precio_unitario" required="1"/>
                                    <field name="subtotal" readonly="1"/>
                                </tree>
                            </field>
                            <footer>
                                <button name="action_agregar_linea" string="Agregar Línea" type="object" class="btn-primary"/>
                            </footer>
                        </page>
                    </notebook>
                    <footer>
                        <button string="Guardar" type="object" name="action_guardar" class="btn-primary"/>
                        <button string="Cancelar" special="cancel" class="btn-secondary"/>
                    </footer>
                </form>
            </field>
        </record>
    </data>
</odoo>
